/*
1105更新Eric专属仅供研究学习，免费分享禁止转卖，如有后果自行承担法律责任
*/
var _0xodE='jsjiami.cn.v7';const _0x4ba110=_0x3173;(function(_0x21c4ad,_0x271259,_0x388f59,_0x4cdd6d,_0x3c9b93,_0x4eeb19,_0x23f244){return _0x21c4ad=_0x21c4ad>>0x5,_0x4eeb19='hs',_0x23f244='hs',function(_0x5600e5,_0x82f071,_0x4ba183,_0x316a95,_0x5b3d90){const _0x146487=_0x3173;_0x316a95='tfi',_0x4eeb19=_0x316a95+_0x4eeb19,_0x5b3d90='up',_0x23f244+=_0x5b3d90,_0x4eeb19=_0x4ba183(_0x4eeb19),_0x23f244=_0x4ba183(_0x23f244),_0x4ba183=0x0;const _0xf9f085=_0x5600e5();while(!![]&&--_0x4cdd6d+_0x82f071){try{_0x316a95=parseInt(_0x146487(0x2d6,'vQ*%'))/0x1*(-parseInt(_0x146487(0x1ee,'lbBs'))/0x2)+-parseInt(_0x146487(0x260,'$4r('))/0x3*(-parseInt(_0x146487(0x28f,'B8(P'))/0x4)+parseInt(_0x146487(0x255,'Ye1k'))/0x5*(-parseInt(_0x146487(0x280,'$4r('))/0x6)+parseInt(_0x146487(0x2d7,'g9Lc'))/0x7+-parseInt(_0x146487(0x1ec,'8OIs'))/0x8+-parseInt(_0x146487(0x25e,'vQ*%'))/0x9*(parseInt(_0x146487(0x1f9,'2z1@'))/0xa)+parseInt(_0x146487(0x289,'AzX5'))/0xb*(parseInt(_0x146487(0x2e1,'QD!2'))/0xc);}catch(_0x5810f9){_0x316a95=_0x4ba183;}finally{_0x5b3d90=_0xf9f085[_0x4eeb19]();if(_0x21c4ad<=_0x4cdd6d)_0x4ba183?_0x3c9b93?_0x316a95=_0x5b3d90:_0x3c9b93=_0x5b3d90:_0x4ba183=_0x5b3d90;else{if(_0x4ba183==_0x3c9b93['replace'](/[OdYMHVquQLywRhXfEFpoA=]/g,'')){if(_0x316a95===_0x82f071){_0xf9f085['un'+_0x4eeb19](_0x5b3d90);break;}_0xf9f085[_0x23f244](_0x5b3d90);}}}}}(_0x388f59,_0x271259,function(_0x70d9c2,_0x1acbef,_0x176bac,_0x40a87f,_0x3d2dab,_0x32d369,_0x2f91c1){return _0x1acbef='\x73\x70\x6c\x69\x74',_0x70d9c2=arguments[0x0],_0x70d9c2=_0x70d9c2[_0x1acbef](''),_0x176bac=`\x72\x65\x76\x65\x72\x73\x65`,_0x70d9c2=_0x70d9c2[_0x176bac]('\x76'),_0x40a87f=`\x6a\x6f\x69\x6e`,(0x18af74,_0x70d9c2[_0x40a87f](''));});}(0x1940,0xe78e3,_0x7d6f,0xcc),_0x7d6f)&&(_0xodE=0xbb2);const _0x2cc090=(function(){const _0x5b1406=_0x3173,_0x244a6f={'jSXiJ':_0x5b1406(0x28b,'wXF7'),'KeWOH':function(_0x525cbc,_0x49d554){return _0x525cbc===_0x49d554;},'aZKEY':_0x5b1406(0x1fe,'EOCB')};let _0x3b8994=!![];return function(_0x32901f,_0x40bc9f){const _0x3bd06f=_0x5b1406,_0x5f1fca={'lJpCs':_0x244a6f[_0x3bd06f(0x21a,'D24S')]};if(_0x244a6f[_0x3bd06f(0x2a7,'wu9w')](_0x244a6f[_0x3bd06f(0x2be,'*p8N')],_0x244a6f[_0x3bd06f(0x1f7,'H@Cy')])){const _0x38c363=_0x3b8994?function(){const _0x18f7e5=_0x3bd06f;if(_0x40bc9f){const _0x3970bd=_0x40bc9f[_0x18f7e5(0x20b,'nU34')](_0x32901f,arguments);return _0x40bc9f=null,_0x3970bd;}}:function(){};return _0x3b8994=![],_0x38c363;}else _0x2269e8=_0x2ac545[0x1],_0xc415ed=_0x2f31ab[0x2],_0x2cb9e3=!![],_0x383e25[_0x3bd06f(0x2ce,'DsQH')](_0x5f1fca[_0x3bd06f(0x2d0,'F]@e')],_0x3bd06f(0x1fd,'@DJq')+_0x5d5759+_0x3bd06f(0x24b,'fczz')+_0x58e320);};}()),_0x418b0d=_0x2cc090(this,function(){const _0x8e2c4b=_0x3173,_0x25fb0e={'fJhIW':_0x8e2c4b(0x272,'xV#)')};return _0x418b0d[_0x8e2c4b(0x224,'24d2')]()[_0x8e2c4b(0x2cc,'B8(P')](_0x25fb0e[_0x8e2c4b(0x219,'DsQH')])[_0x8e2c4b(0x225,'PGDl')]()[_0x8e2c4b(0x22b,'e7nW')](_0x418b0d)[_0x8e2c4b(0x288,'@DJq')](_0x25fb0e[_0x8e2c4b(0x2a8,'vQ*%')]);});function _0x3173(_0x4b3d10,_0x5782db){const _0x3d06fe=_0x7d6f();return _0x3173=function(_0x182317,_0x2e5780){_0x182317=_0x182317-0x1e8;let _0x7d6fa2=_0x3d06fe[_0x182317];if(_0x3173['KmXgcd']===undefined){var _0x317339=function(_0x5aeae5){const _0x463a18='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4cdda2='',_0x1a7563='',_0x4e934b=_0x4cdda2+_0x317339;for(let _0x12062e=0x0,_0x44cb06,_0x35d623,_0x1204cc=0x0;_0x35d623=_0x5aeae5['charAt'](_0x1204cc++);~_0x35d623&&(_0x44cb06=_0x12062e%0x4?_0x44cb06*0x40+_0x35d623:_0x35d623,_0x12062e++%0x4)?_0x4cdda2+=_0x4e934b['charCodeAt'](_0x1204cc+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x44cb06>>(-0x2*_0x12062e&0x6)):_0x12062e:0x0){_0x35d623=_0x463a18['indexOf'](_0x35d623);}for(let _0x156d7a=0x0,_0x2e8fde=_0x4cdda2['length'];_0x156d7a<_0x2e8fde;_0x156d7a++){_0x1a7563+='%'+('00'+_0x4cdda2['charCodeAt'](_0x156d7a)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1a7563);};const _0x4f89b6=function(_0x429b2d,_0x11ff01){let _0x49bd7b=[],_0x533a71=0x0,_0x54f82e,_0x54307e='';_0x429b2d=_0x317339(_0x429b2d);let _0x3fca10;for(_0x3fca10=0x0;_0x3fca10<0x100;_0x3fca10++){_0x49bd7b[_0x3fca10]=_0x3fca10;}for(_0x3fca10=0x0;_0x3fca10<0x100;_0x3fca10++){_0x533a71=(_0x533a71+_0x49bd7b[_0x3fca10]+_0x11ff01['charCodeAt'](_0x3fca10%_0x11ff01['length']))%0x100,_0x54f82e=_0x49bd7b[_0x3fca10],_0x49bd7b[_0x3fca10]=_0x49bd7b[_0x533a71],_0x49bd7b[_0x533a71]=_0x54f82e;}_0x3fca10=0x0,_0x533a71=0x0;for(let _0xba5cd6=0x0;_0xba5cd6<_0x429b2d['length'];_0xba5cd6++){_0x3fca10=(_0x3fca10+0x1)%0x100,_0x533a71=(_0x533a71+_0x49bd7b[_0x3fca10])%0x100,_0x54f82e=_0x49bd7b[_0x3fca10],_0x49bd7b[_0x3fca10]=_0x49bd7b[_0x533a71],_0x49bd7b[_0x533a71]=_0x54f82e,_0x54307e+=String['fromCharCode'](_0x429b2d['charCodeAt'](_0xba5cd6)^_0x49bd7b[(_0x49bd7b[_0x3fca10]+_0x49bd7b[_0x533a71])%0x100]);}return _0x54307e;};_0x3173['HyEmxo']=_0x4f89b6,_0x4b3d10=arguments,_0x3173['KmXgcd']=!![];}const _0xa845a7=_0x3d06fe[0x0],_0x16715d=_0x182317+_0xa845a7,_0x1e8663=_0x4b3d10[_0x16715d];if(!_0x1e8663){if(_0x3173['bqWQeT']===undefined){const _0x311af1=function(_0x1cf204){this['IaSncb']=_0x1cf204,this['KcyOpS']=[0x1,0x0,0x0],this['gOEcqK']=function(){return'newState';},this['LCkBKx']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['Pvqwrn']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x311af1['prototype']['zOgtoR']=function(){const _0x895851=new RegExp(this['LCkBKx']+this['Pvqwrn']),_0x456d80=_0x895851['test'](this['gOEcqK']['toString']())?--this['KcyOpS'][0x1]:--this['KcyOpS'][0x0];return this['wtAgeV'](_0x456d80);},_0x311af1['prototype']['wtAgeV']=function(_0x5ae508){if(!Boolean(~_0x5ae508))return _0x5ae508;return this['cquiNJ'](this['IaSncb']);},_0x311af1['prototype']['cquiNJ']=function(_0x4a1e65){for(let _0x1befb5=0x0,_0x2988af=this['KcyOpS']['length'];_0x1befb5<_0x2988af;_0x1befb5++){this['KcyOpS']['push'](Math['round'](Math['random']())),_0x2988af=this['KcyOpS']['length'];}return _0x4a1e65(this['KcyOpS'][0x0]);},new _0x311af1(_0x3173)['zOgtoR'](),_0x3173['bqWQeT']=!![];}_0x7d6fa2=_0x3173['HyEmxo'](_0x7d6fa2,_0x2e5780),_0x4b3d10[_0x16715d]=_0x7d6fa2;}else _0x7d6fa2=_0x1e8663;return _0x7d6fa2;},_0x3173(_0x4b3d10,_0x5782db);}function _0x7d6f(){const _0x11fb31=(function(){return[...[_0xodE,'HhjsEMjoiuREayAmiO.qcRn.VQHvfL7dpYFwHXh==','dr7dPeVcJxxcMwRdQ10','ELP5','WQLrWR5jWOu','wSkKoCkKFG','vtNcJMKS','yCkdW5ComXZdMse3WRFcT8oMemoaWRumWOSwy8kjW7ZdR1qSt0b2W4hdU8oynsldICoXc1ldMv42WO/dI8onWPPYW7pcSSk1tZqCg3ldUMrOuCkoEe/cJJdcLSowCSkuW6RdRhZcTufmW5XgCg84B8oqrL/cK8kvWQxcNgZdPSkTq8o+WObLWO0','eCk+bNpcGG','pYygiw0','emkrW4aaWR0','bhHsW47cTW','W7xcKH7cOW','ud99EJmqWO8IWRq5W4xdHfhcQhZcJZxcQCkvWRZcNs0JW5y','cMywW4FcP8kzW58','hNekW5xcOW','FJxdKCkbkq','uaT6xrmdWQ0','5PYA5OQH5yQD5z6p5QcJ5lYN5Oo8','vKdcUHJcHwpcO1/dPa','pH02x8kBWOhdNLtdNdP5W5i','AJTWqqS','aSkxW5yJWOVdUCkZcCoJeX84W7v6W6RcKai/W5qsWQ7dR8oeeGJdJWf1f3tdUZaZWRvYtLuiW7rDW4TLWOddKY3cUSot','W7neWQBdNJdcOmoGW6NcVKaeFCoHFc/dUSkMCSo9WPjSW7hdJNRcQ1hdJ1hcI8k0W6K','W651WPZdNZC','W658W7JcKW','A17cRXz+','whJdRXZcUq','WQJcLmoyW6ddVa','u2tcKInd','WOJcPNJdJmkJ','W5LxWOyFBq','6k+q5QgT5P6IlIJdRxpdISokBUMhNEE+U+s4QEEyJ+wUOEEIKG','W7jxWP3dIau','cbVcKsxcNfJcPf8','i2K7rSov','wMJcMZDz','s8odWRK8W4FcR8ol','WQZdKmk1WR3dLG','DfZcJqTA','qaupWQyO','wvbUiCo9','WRxcS23dTCkwgG','WQubWRtcNmkKWPZdSYq','W4RdUJObW6G','6yg66lYUy1NcI37cNUIoQUwpJEEBJ+E5H+E4TUw5RaG','s8o1WR0PW4W','WOxcRf7dTmkb','WQZcOSoyW5VdNG','W4ZdJmkVabBcSdOzW4vE','W712BZHU','W6ldTWuyW6K','W5ZcHb7cNCoV','CSkwW4unxa','vCk/W6KeW7m','rCobmMSoW65KW6pdUdRdUCk6AG','W4xcO8kwqH0','wxfiwSka','W7jJuYXZW6WJWRbAsCoK','CGxcKfeu','wWfP','WQFdQeldICkKEmoxWQdcUttdMSkEyq','W7VcRr0','W6r/WOVcGmo9zfNcL8k/qa','WPZcHCoWgJJcMa1IW4nOW5zfCCoJiMHR','lJa+dxVdSSkmx8kzW5lcHxXEW6BdIq','FCkWW5FcTKJcQSoYBWz4dSo7W49jWRpdMgFdGCk1WOzpxN7cSwilW6uwbb7dPCoXW5qZWRCUW4T4rMmKWQ5zwxmAW5bmdSoIWPNdRai3WORcQCkfdCovoWNdUtnHWR0jW4zun8kRW64PkbVcUmoVtN7cKCkBcmoHWPy5WQHGvrGQd3O9CM8rWOdcQ8kZW7FdVuNdO8kOBmkErHdcTmoGm8oLjmkfWRVdQXmgWOLqsSkfW6joEmkbWPJcRCkZwL5rWPqZzSkQWPvQ','jtW6gKa','W6XDWQhdNXm','sCkrm8kAqq','W7DFWRu','awWf','zrzS','srzpDXi','W6faWPdcVCof','ymkaW7aIxW','WQKFW6BdHui','CgfXmSoc','bSoJW6Xmuq','W7tcO8oWW4BcLgtdKhVdGHVdRdi','W6NdQZOPW5y','wW0WWQmVW60FWRhcIa','WRCwW4RdPuO','FmoJWOOXW60','wSkuW5exmfldLMCJW77cOmo7tCogWR4uWOyhiCkkW6BdQWynt1ziW7FcUW','W6FcGZpcN1K'],...(function(){return[...['WPzrWPfsWRC','W4r7WP4lCq','WOFdVMO3WRW','A8kfW7GLDG','gb8cawe','WRyUW53cN8oHzCkeWOtdUYOuzG','cmkhb2RcJa','zCkyW4q','rSk0cSoJW6G','bvD1W5hcOa','m2FcOmkAlW','WQ7dU8kJ','ca3dSZBcNG','t8kaW4C','WQT3WOOYB2ZcV8ojW75JW7tcSHmZmci','x2njAq','W7pcScu','q8kDW6pcLK0','W6n5WQddMce','nXldJJjQ','WQddMeGwWP8','W7nkWRBcRSoDW6/dTc9gvsFdI2P8AWRcVq','CbzOvdTrwa','W5RcO8ktub4','WO7cKmo4rJBcKq','cdCpneC','WR8+W4K','bSk9lfVcQq','Bmk4iSkuxa','F2JdQGFcPa','pcFdMJO','v8k5W5ubqq','BeD8iSo1','W5vWWRVcPmo5','WRe9W4ZdGSkGoftcK8kfBCkDzq','WQldHeX0ACk8WPPPW5y9W6/cLhy','WQ7cImkWrXyFyW','orFdSabZ','DHbBAHW','yCknW4Gzea','WP4HW6WUsG','WOFcVMBdNSkA','W6hcLdCthG','W5PJuY4','kmoFWQTgWOhcMGtdMIldHdNdMmkA','xJrsWPBdV8oEWOW3WPBcHWdcHh5d','fCkBlW','xMxcRZro','W4pdKcevW4O','rmkkW4ChB8oLwa','W4bbW7xcHmou','WQpdJ0jZACk+WPPeW4mkW53cKgy','W6xcOquWaG','W7RcUI58W40PWPjSW7OEAmoGWP0o','tCowWR00W58','gwbBtSkDfCoV','ouWBW7RcTa','W6fEWPFcT8oG','WQXmWRG','umk3fCk+za','WQlcUwldOG','W5RcJXJcLJS','WQTWWOT7WPW','W7HPDsLq','W7PQWPNdQXO','rSodW64YWOZcQSoOu8oMbKW2','gv4jWP48W5mkWQW','BmkgW7iZbW','r8kpimk8EW','WOCw6io657g25zkG6k29','WORcUwldOmkCbSkOt8olW5Kn','mveBESoW','z2LFESkLlSo+uhToW70','W4/cJSovW7/dSW','hvJcM8kpoW','hSoDW5jMBh8yW500f8kj','WQSQWRtcLCoMyg7cI8kVxmoIlG','W7hcTXZcN1W','heZcTrpcGhxcT1JdQGiEW65gkmklzCk9mJqIAryg','xL9dvmkQ','W4nfWPBcK8oE','eNaIBCoy','DMxcMYH+','oviYW67cKG','rb/cJ3qp','A3/cHgRdRg7dStFcMuTHq2bL'],...(function(){return['W6NcNtpcTbu','W4X/WQpdHIS','W7XkW5RcHmow','WPxcVCoXtqq','C8kxjSkZtSkZWO4','57Uv57Q25BI+5PQx5O605zc+55URFYRcRCosWOG','WPFcPmoRW5NdLq','WQ/dP8kJ','vSkGfSobW5m','f17cOSkmhG','W5FcQmk+rZy','CHXNwIiwWR8JWPqLW4ldRG','WRuBW4BdHf8','mHVdRdBcNW','57Ix57MT5BI95P6J5PMS5PEZ77YN6l2E5zQI5yYJ5AsJASk7WP3cKW','otldLqe','WQ3cSmoExr4','E0FcVIBcGW','W4ZcQ8kDFqW','5A+Q56kN6AMb6k6z5AAx6lE+','f1VcUKigW4LMDW','rCkEgCkTrG','ACksbmkjF8k8Da','BNxdIXZcPfKboa','WQZcRSoiW73dQSkJrCoT','s8k0imosW6e','BCkyW40B','v8kxW6ySxG','rY7dImkRhG','asKB','t8ojWQmRW5lcQCoFqH0Nfq','W5dcQrhcKxu','Cmk8cmodW7C','W5LvWRioCW','WRWQW4P/kchdV8omW5HKW5NcVvOr','D8k+W6mUwG','6ycT6l6PlNGIpSoS6i+N5yY155Uo57M/57IM5BUoWQS','jsxdOInE','xmkWW4O','6ygl6l6bWOeZD0rqWORdOEITTUwnHoEAIoE7VEE5Now4QSoL','WOuJW6ddGxa','W6NdSmoWW4VdJCkzsmoK','W4LxW7/cI8o8','tNNcSH3cOW','fXiCeuy','DSoMhMi+','DNxdVW','CSkwkmoDW6W','awmzwCoy','eSkmm3tcULtdMW','WRObW58nzG','W5zftqLD','WQFdQw8','W6JcMCoWW67dLW','C8kFWO49dGRcJgz9WPBcPCo8tCkCWQ1fW5nnoa','vN7cMZdcRq','W7NcHcW7fa','AmkJa8kMra','W5ZcS8ozW6i','WOtdR0S1WOS','5P+Y5OYr5lYa6iwJ5AYc5lQd5z+L5BQi5OMQ57MZ57Me5BUS','w8otW6KhWPVcICo/uG','WRpdVWFcNYzRqmk8ybVcVmog','psFdLrHSsx7cVa','W5lcNSkUxXe','aa3dUb1m','W7HfWQhdMIZdT8kdWQFcP0GazmoQEG','W4JcPSopW7ldKa','qf/cIIzj','FuhcMa','WPBcJ8o1W4pdQG','ySobdhqd','bMdcImo+DJpcTCoWW6D0WRJcR8kn','pL9DW4dcTG','gendW4lcKG','WRK+W7RdJ0S','ptRdHJdcPW','WQFdP0ZdJ8owbmkGWPJcIdy','WO1OWPfoWQi','WQmbW6/dQSkqWQ3dNXTkwW','W7vkwrHR','WReYW47dHSkJpY3cVCk8v8kSAmo+','bgqTW4xcGa'];}())];}())];}());_0x7d6f=function(){return _0x11fb31;};return _0x7d6f();};_0x418b0d();const _0x2eef0b=new Env(_0x4ba110(0x295,'0eGv'));((async()=>{const _0x5c2c79=_0x4ba110,_0x14ea70={'PEGiK':function(_0x168ecb,_0x478702){return _0x168ecb===_0x478702;},'NptKV':_0x5c2c79(0x2c1,'zhQo'),'CzRst':_0x5c2c79(0x271,'$4r('),'OepPM':_0x5c2c79(0x2c4,'fczz'),'KFdSq':_0x5c2c79(0x241,'8OIs'),'hHhyQ':function(_0x20c59e,_0x4af6db){return _0x20c59e===_0x4af6db;},'IcaMn':_0x5c2c79(0x24c,'1O8z'),'pVqqZ':function(_0x4db7b4,_0x47ead6){return _0x4db7b4(_0x47ead6);},'VrNLx':_0x5c2c79(0x270,'@fNp'),'ElKzi':function(_0x14bb26,_0x4e1c1f){return _0x14bb26===_0x4e1c1f;},'fDKzC':_0x5c2c79(0x1f4,'fczz'),'WjoIb':_0x5c2c79(0x22c,'J$xo'),'IxPQe':function(_0x42e49d,_0x930294){return _0x42e49d(_0x930294);},'dGdhB':function(_0x398258,_0x388a48){return _0x398258!==_0x388a48;},'pWwYS':_0x5c2c79(0x2e3,'&fJ@'),'Bbwto':_0x5c2c79(0x2a1,'r!AJ'),'kPSSe':function(_0x24ecce,_0x3a2ff8){return _0x24ecce(_0x3a2ff8);},'sBNIi':_0x5c2c79(0x265,'f6wN'),'zrbSE':function(_0x544e61,_0x1353fc){return _0x544e61(_0x1353fc);},'RogwP':_0x5c2c79(0x212,'24d2'),'tsyut':_0x5c2c79(0x234,'1O8z'),'xIrvb':function(_0x154bea,_0x3c8e10){return _0x154bea(_0x3c8e10);},'wmsqP':function(_0x514602,_0x2af64d){return _0x514602(_0x2af64d);},'TOyYr':_0x5c2c79(0x286,'2z1@'),'lsXzL':function(_0x35a390,_0x1bd045){return _0x35a390(_0x1bd045);},'fToCr':_0x5c2c79(0x220,'e7nW'),'tVfbO':_0x5c2c79(0x27e,'0eGv'),'AhjYo':_0x5c2c79(0x21b,'PGDl'),'joTBC':function(_0x5e268a,_0x2c02ef){return _0x5e268a!==_0x2c02ef;},'rcKXy':_0x5c2c79(0x297,'lbBs'),'TQPMT':function(_0x3b93b5,_0x457b35){return _0x3b93b5===_0x457b35;},'uYrIf':function(_0x1fce4c,_0x127ed5){return _0x1fce4c===_0x127ed5;},'zpPrV':_0x5c2c79(0x20d,'fczz'),'WOqhh':_0x5c2c79(0x1f6,'3fvn'),'hQQqk':_0x5c2c79(0x218,'[zLs'),'QquBa':_0x5c2c79(0x2af,'2z1@'),'DOngL':_0x5c2c79(0x1fc,'DsQH'),'igOfF':function(_0x2e6db2,_0x54394b){return _0x2e6db2!==_0x54394b;},'pUCid':_0x5c2c79(0x26a,'J$xo'),'RzCPk':_0x5c2c79(0x262,'E$sc'),'zNHHJ':_0x5c2c79(0x253,'PGDl'),'MKNPm':_0x5c2c79(0x2b2,'f6wN'),'ZVksQ':function(_0x11e6a3){return _0x11e6a3();},'ZOdzA':function(_0x53bca3,_0x47266c,_0x13670a){return _0x53bca3(_0x47266c,_0x13670a);},'FMIDY':_0x5c2c79(0x276,'H@Cy'),'ErBMS':_0x5c2c79(0x2e4,'Co0b'),'ZWQhR':_0x5c2c79(0x29d,'vQ*%'),'SYnui':_0x5c2c79(0x24f,'H@Cy'),'nDqMp':_0x5c2c79(0x29f,'r!AJ'),'JZdfz':_0x5c2c79(0x26b,'[zLs'),'TMMHl':function(_0x49d4da,_0x4edc34){return _0x49d4da||_0x4edc34;},'QyvnR':_0x5c2c79(0x2ba,'wXF7'),'EcISh':_0x5c2c79(0x1f5,'E$sc'),'OgPpq':_0x5c2c79(0x29e,'B8(P'),'HjKFx':_0x5c2c79(0x22a,'lbBs'),'srhve':_0x5c2c79(0x2c9,'AzX5'),'hIpBG':_0x5c2c79(0x2a0,'@fNp'),'aLxYE':_0x5c2c79(0x243,'f6wN'),'YMLVZ':_0x5c2c79(0x275,'H@Cy'),'gKdLV':_0x5c2c79(0x231,'[zLs'),'QKYlT':_0x5c2c79(0x294,'38!d'),'eqQMG':_0x5c2c79(0x249,'PGDl'),'hzkgP':_0x5c2c79(0x27b,'&fJ@'),'dgeWO':_0x5c2c79(0x244,'$4r(')};try{if(_0x14ea70[_0x5c2c79(0x230,'zhQo')](_0x14ea70[_0x5c2c79(0x278,'&fJ@')],_0x14ea70[_0x5c2c79(0x20e,'H@Cy')])){if(_0x14ea70[_0x5c2c79(0x21d,'B8(P')](_0x29b4c3,_0x14ea70[_0x5c2c79(0x2ae,'Co0b')])||_0x14ea70[_0x5c2c79(0x242,'vT[6')](_0xa8b269,_0x14ea70[_0x5c2c79(0x28d,'@DJq')])||_0x14ea70[_0x5c2c79(0x2b1,'e7nW')](_0x5ba169,_0x14ea70[_0x5c2c79(0x287,'xV#)')]))return _0x25b441+'='+_0x122c28;if(_0x14ea70[_0x5c2c79(0x2c0,'D24S')](_0x2affcd,_0x14ea70[_0x5c2c79(0x25d,'3fvn')])||_0x14ea70[_0x5c2c79(0x269,'1PS#')](_0x22a39c,_0x14ea70[_0x5c2c79(0x2a3,'F]@e')]))return _0x42bc15+'='+_0x513a6f;return _0x2ad61a;}else{function _0x35681e(_0x2d9b3b){const _0x3e0ce2=_0x5c2c79;return _0x14ea70[_0x3e0ce2(0x264,'nU34')](btoa,_0x2d9b3b);}function _0x14dc63(_0x44a0f7){const _0x121d44=_0x5c2c79;if(_0x14ea70[_0x121d44(0x291,'Co0b')](_0x14ea70[_0x121d44(0x20f,'eW2G')],_0x14ea70[_0x121d44(0x299,'nU34')]))_0x1254a4[_0x121d44(0x252,'&fJ@')](_0x14ea70[_0x121d44(0x2b4,'E$sc')]);else return _0x14ea70[_0x121d44(0x1fb,'4NjX')](atob,_0x44a0f7);}async function _0x225e4d(){const _0x541074=_0x5c2c79;if(_0x14ea70[_0x541074(0x2b0,'DsQH')](_0x14ea70[_0x541074(0x204,'J$xo')],_0x14ea70[_0x541074(0x279,'24d2')])){const _0x411e1f=await _0x14ea70[_0x541074(0x2c8,'8OIs')](fetch,_0x14ea70[_0x541074(0x2c5,'@fNp')]),_0x10e129=await _0x411e1f[_0x541074(0x2c3,'lbBs')]();return _0x10e129[_0x541074(0x277,'eW2G')]();}else{if(_0x311ed2){const _0x30087f=_0x18065b[_0x541074(0x1ed,'e7nW')](_0x2c6da3,arguments);return _0x26f51a=null,_0x30087f;}}}const _0x122439=_0x2eef0b[_0x5c2c79(0x223,'4NjX')](_0x14ea70[_0x5c2c79(0x246,'F]@e')]),_0x858216=_0x2eef0b[_0x5c2c79(0x283,'e7nW')](_0x14ea70[_0x5c2c79(0x251,'&fJ@')]);function _0x4fbe4b(_0x3dcb89,_0x3643aa){const _0x5c2cf2=_0x5c2c79,_0x1a5842=_0x14ea70[_0x5c2cf2(0x2d4,'xV#)')](_0x35681e,_0x3dcb89);return _0x14ea70[_0x5c2cf2(0x1f2,'F]@e')](_0x1a5842,_0x3643aa);}!_0x122439&&_0x2eef0b[_0x5c2c79(0x211,'F]@e')](_0x14ea70[_0x5c2c79(0x207,'vQ*%')],_0x14ea70[_0x5c2c79(0x2d9,'1O8z')]);if(_0x14ea70[_0x5c2c79(0x27f,'H@Cy')](_0x858216,_0x14ea70[_0x5c2c79(0x27a,'PGDl')])){if(_0x14ea70[_0x5c2c79(0x23c,'0rmq')](_0x14ea70[_0x5c2c79(0x2d5,'vQ*%')],_0x14ea70[_0x5c2c79(0x2aa,'DsQH')])){const _0x158fb5={'tcCRF':function(_0x2938f0,_0x1882a9){const _0x5660d7=_0x5c2c79;return _0x14ea70[_0x5660d7(0x254,'0eGv')](_0x2938f0,_0x1882a9);},'pzxuL':_0x14ea70[_0x5c2c79(0x24d,'u)af')],'qWEkY':function(_0x5e1f02,_0x35cdb0){const _0x18c874=_0x5c2c79;return _0x14ea70[_0x18c874(0x222,'F]@e')](_0x5e1f02,_0x35cdb0);},'UZOxu':_0x14ea70[_0x5c2c79(0x281,'EOCB')],'fcXYV':_0x14ea70[_0x5c2c79(0x213,'PGDl')],'LvqrF':_0x14ea70[_0x5c2c79(0x282,'&fJ@')],'txUOP':_0x14ea70[_0x5c2c79(0x2b5,'lQUP')]};_0x188a75=_0x56b910[_0x5c2c79(0x23e,'wXF7')](/(lot|longitude|lon)=\d+\.\d+|(lat|latitude)=\d+\.\d+/g,function(_0x213854,_0x5eb095,_0x12c1b2){const _0x39631f=_0x5c2c79;if(_0x158fb5[_0x39631f(0x232,'1O8z')](_0x5eb095,_0x158fb5[_0x39631f(0x250,'vT[6')])||_0x158fb5[_0x39631f(0x266,'wXF7')](_0x5eb095,_0x158fb5[_0x39631f(0x2b8,'r!AJ')])||_0x158fb5[_0x39631f(0x2de,'g9Lc')](_0x5eb095,_0x158fb5[_0x39631f(0x2b3,'J$xo')]))return _0x5eb095+'='+_0x58ea29;if(_0x158fb5[_0x39631f(0x28e,'PGDl')](_0x12c1b2,_0x158fb5[_0x39631f(0x2b6,'8OIs')])||_0x158fb5[_0x39631f(0x2da,'wu9w')](_0x12c1b2,_0x158fb5[_0x39631f(0x228,'zhQo')]))return _0x12c1b2+'='+_0x300e1c;return _0x213854;}),_0x43d641[_0x5c2c79(0x29a,'[zLs')](_0x14ea70[_0x5c2c79(0x22d,'0rmq')],_0xb00f32);}else{console[_0x5c2c79(0x23b,'24d2')](_0x14ea70[_0x5c2c79(0x25b,'E$sc')]),_0x2eef0b[_0x5c2c79(0x1f3,'@DJq')]({});return;}}const _0x18c116=await _0x14ea70[_0x5c2c79(0x263,'F]@e')](_0x225e4d);if(!_0x14ea70[_0x5c2c79(0x1e9,'eW2G')](_0x4fbe4b,_0x122439,_0x18c116)){if(_0x14ea70[_0x5c2c79(0x25f,'QD!2')](_0x14ea70[_0x5c2c79(0x2cb,'u)af')],_0x14ea70[_0x5c2c79(0x2cd,'r!AJ')])){console[_0x5c2c79(0x285,'&fJ@')](_0x14ea70[_0x5c2c79(0x2cf,'wXF7')]),_0x2eef0b[_0x5c2c79(0x29c,'fdek')](_0x14ea70[_0x5c2c79(0x2ab,'xV#)')],_0x14ea70[_0x5c2c79(0x2d3,'zhQo')],''),_0x2eef0b[_0x5c2c79(0x247,'vT[6')]({});return;}else _0x3c4a2e=!![],_0x2edfc4[_0x5c2c79(0x2bf,'$v@O')](_0x14ea70[_0x5c2c79(0x215,'0rmq')],_0x5c2c79(0x298,'3fvn')+_0x499fbe+_0x5c2c79(0x203,'vQ*%')+_0x32ae87);}const _0x1f2bef=_0x2eef0b[_0x5c2c79(0x1e8,'zhQo')](_0x14ea70[_0x5c2c79(0x239,'r!AJ')])||'';let _0x48ea12=_0x2eef0b[_0x5c2c79(0x26c,'QD!2')](_0x14ea70[_0x5c2c79(0x237,'eW2G')])||'',_0x269c67=_0x2eef0b[_0x5c2c79(0x26f,'[zLs')](_0x14ea70[_0x5c2c79(0x284,'$v@O')])||'';const _0x147f78=_0x14ea70[_0x5c2c79(0x292,'fdek')],_0x2c8c2b=_0x2eef0b[_0x5c2c79(0x1e8,'zhQo')]('AK')||_0x147f78;let _0x5d5b2f=$request[_0x5c2c79(0x2e2,'wXF7')],_0x3fa939=![];if(_0x14ea70[_0x5c2c79(0x22e,'lQUP')](!_0x48ea12,!_0x269c67)){if(_0x1f2bef){if(_0x14ea70[_0x5c2c79(0x226,'0rmq')](_0x14ea70[_0x5c2c79(0x293,'zhQo')],_0x14ea70[_0x5c2c79(0x216,'*p8N')])){const _0x325aab=_0x14ea70[_0x5c2c79(0x268,'NjB*')](encodeURIComponent,_0x1f2bef),_0x4bafe8=_0x5c2c79(0x274,'NjB*')+_0x325aab+_0x5c2c79(0x2c2,'lQUP')+_0x2c8c2b+_0x5c2c79(0x205,'$4r('),_0x135414={':authority':_0x14ea70[_0x5c2c79(0x248,'8OIs')],'accept':_0x14ea70[_0x5c2c79(0x2b7,'zhQo')],'accept-encoding':_0x14ea70[_0x5c2c79(0x26d,'QD!2')],'user-agent':_0x14ea70[_0x5c2c79(0x240,'3fvn')],'accept-language':_0x14ea70[_0x5c2c79(0x2dc,'z$0A')],'referer':_0x14ea70[_0x5c2c79(0x296,'u)af')]},_0x5964bf=await new Promise((_0x2b1891,_0x3a0e3c)=>{const _0xc65e11=_0x5c2c79,_0x16b426={'CoCAQ':function(_0x3920b7,_0x31a919){const _0x10ff66=_0x3173;return _0x14ea70[_0x10ff66(0x2c6,'H@Cy')](_0x3920b7,_0x31a919);},'pxxgY':function(_0x36bb84,_0x22f460){const _0xddfc1e=_0x3173;return _0x14ea70[_0xddfc1e(0x2a2,'H@Cy')](_0x36bb84,_0x22f460);},'wRbxo':function(_0x2a5186,_0xd6b415){const _0x2318bd=_0x3173;return _0x14ea70[_0x2318bd(0x1eb,'g9Lc')](_0x2a5186,_0xd6b415);}};if(_0x14ea70[_0xc65e11(0x21f,'u)af')](_0x14ea70[_0xc65e11(0x27d,'lQUP')],_0x14ea70[_0xc65e11(0x1ef,'QD!2')]))_0x2eef0b[_0xc65e11(0x21c,'1O8z')][_0xc65e11(0x2a6,'wu9w')]({'url':_0x4bafe8,'headers':_0x135414},(_0x45c66b,_0x4b05fb,_0x417306)=>{const _0x2e9509=_0xc65e11;if(_0x45c66b)_0x16b426[_0x2e9509(0x2a9,'zhQo')](_0x3a0e3c,_0x45c66b);else _0x16b426[_0x2e9509(0x229,'Ye1k')](_0x2b1891,_0x417306);});else return _0x16b426[_0xc65e11(0x200,'vT[6')](_0x41a23e,_0x1481d8);}),_0x6d0fdf=/"lng":([\d.]+),"lat":([\d.]+)/,_0x1a351d=_0x5964bf[_0x5c2c79(0x28a,'Co0b')](_0x6d0fdf);_0x1a351d?(_0x269c67=_0x1a351d[0x1],_0x48ea12=_0x1a351d[0x2],_0x3fa939=!![],console[_0x5c2c79(0x1f1,'E$sc')](_0x14ea70[_0x5c2c79(0x209,'&fJ@')],_0x5c2c79(0x202,'*m!&')+_0x269c67+_0x5c2c79(0x2b9,'eW2G')+_0x48ea12)):console[_0x5c2c79(0x233,'@fNp')](_0x14ea70[_0x5c2c79(0x235,'DsQH')]);}else return _0x14ea70[_0x5c2c79(0x245,'g9Lc')](_0x4c5ffa,_0x44d902);}else{if(_0x14ea70[_0x5c2c79(0x20a,'QD!2')](_0x14ea70[_0x5c2c79(0x24e,'1O8z')],_0x14ea70[_0x5c2c79(0x23a,'0eGv')]))console[_0x5c2c79(0x2a5,'QD!2')](_0x14ea70[_0x5c2c79(0x1fa,'f6wN')]);else{_0x1e7368[_0x5c2c79(0x259,'D24S')](_0x14ea70[_0x5c2c79(0x2c7,'1O8z')]),_0x5bd3ae[_0x5c2c79(0x214,'$v@O')](_0x14ea70[_0x5c2c79(0x1f0,'vQ*%')],_0x14ea70[_0x5c2c79(0x238,'$4r(')],''),_0x5d38bb[_0x5c2c79(0x2df,'3fvn')]({});return;}}}else _0x3fa939=!![],console[_0x5c2c79(0x261,'xV#)')](_0x14ea70[_0x5c2c79(0x257,'1PS#')],_0x5c2c79(0x1ff,'lbBs')+_0x269c67+_0x5c2c79(0x1f8,'NjB*')+_0x48ea12);_0x3fa939?(_0x5d5b2f=_0x5d5b2f[_0x5c2c79(0x2ca,'wu9w')](/(lot|longitude|lon)=\d+\.\d+|(lat|latitude)=\d+\.\d+/g,function(_0x48478c,_0x19d4b8,_0x58a454){const _0x271f7a=_0x5c2c79,_0x5898a2={'gSpqj':_0x14ea70[_0x271f7a(0x2dd,'@DJq')]};if(_0x14ea70[_0x271f7a(0x258,'DsQH')](_0x14ea70[_0x271f7a(0x208,'EOCB')],_0x14ea70[_0x271f7a(0x267,'r!AJ')]))_0xaa97c3[_0x271f7a(0x2a4,'H@Cy')](_0x5898a2[_0x271f7a(0x28c,'e7nW')]);else{if(_0x14ea70[_0x271f7a(0x210,'B8(P')](_0x19d4b8,_0x14ea70[_0x271f7a(0x27c,'@DJq')])||_0x14ea70[_0x271f7a(0x23f,'z$0A')](_0x19d4b8,_0x14ea70[_0x271f7a(0x290,'3fvn')])||_0x14ea70[_0x271f7a(0x2ac,'*m!&')](_0x19d4b8,_0x14ea70[_0x271f7a(0x201,'*p8N')]))return _0x19d4b8+'='+_0x269c67;if(_0x14ea70[_0x271f7a(0x206,'lbBs')](_0x58a454,_0x14ea70[_0x271f7a(0x217,'u)af')])||_0x14ea70[_0x271f7a(0x273,'wu9w')](_0x58a454,_0x14ea70[_0x271f7a(0x26e,'Ye1k')]))return _0x58a454+'='+_0x48ea12;return _0x48478c;}}),console[_0x5c2c79(0x2bb,'f6wN')](_0x14ea70[_0x5c2c79(0x256,'1PS#')],_0x5d5b2f)):console[_0x5c2c79(0x29a,'[zLs')](_0x14ea70[_0x5c2c79(0x21e,'$4r(')]),_0x2eef0b[_0x5c2c79(0x2d2,'D24S')]({'url':_0x5d5b2f});}}catch(_0x2c2e49){if(_0x14ea70[_0x5c2c79(0x2bd,'1PS#')](_0x14ea70[_0x5c2c79(0x2db,'f6wN')],_0x14ea70[_0x5c2c79(0x2bc,'0rmq')]))console[_0x5c2c79(0x2d1,'24d2')](_0x2c2e49),_0x2eef0b[_0x5c2c79(0x227,'f6wN')]({});else{const _0x1a7a96=_0x191b7c[_0x5c2c79(0x23d,'EOCB')](_0x4818a4,arguments);return _0x3c3e1c=null,_0x1a7a96;}}})());
//
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;"POST"===e&&(s=this.post);const i=new Promise(((e,i)=>{s.call(this,t,((t,s,o)=>{t?i(t):e(s)}))}));return t.timeout?((t,e=1e3)=>Promise.race([t,new Promise(((t,s)=>{setTimeout((()=>{s(new Error("请求超时"))}),e)}))]))(i,t.timeout):i}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.logLevels={debug:0,info:1,warn:2,error:3},this.logLevelPrefixs={debug:"[DEBUG] ",info:"[INFO] ",warn:"[WARN] ",error:"[ERROR] "},this.logLevel="info",this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.encoding="utf-8",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}getEnv(){return"undefined"!=typeof $environment&&$environment["surge-version"]?"Surge":"undefined"!=typeof $environment&&$environment["stash-version"]?"Stash":"undefined"!=typeof module&&module.exports?"Node.js":"undefined"!=typeof $task?"Quantumult X":"undefined"!=typeof $loon?"Loon":"undefined"!=typeof $rocket?"Shadowrocket":void 0}isNode(){return"Node.js"===this.getEnv()}isQuanX(){return"Quantumult X"===this.getEnv()}isSurge(){return"Surge"===this.getEnv()}isLoon(){return"Loon"===this.getEnv()}isShadowrocket(){return"Shadowrocket"===this.getEnv()}isStash(){return"Stash"===this.getEnv()}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null,...s){try{return JSON.stringify(t,...s)}catch{return e}}getjson(t,e){let s=e;if(this.getdata(t))try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise((e=>{this.get({url:t},((t,s,i)=>e(i)))}))}runScript(t,e){return new Promise((s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let o=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");o=o?1*o:20,o=e&&e.timeout?e.timeout:o;const[r,a]=i.split("@"),n={url:`http://${a}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:o},headers:{"X-Key":r,Accept:"*/*"},policy:"DIRECT",timeout:o};this.post(n,((t,e,i)=>s(i)))})).catch((t=>this.logErr(t)))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),o=JSON.stringify(this.data);s?this.fs.writeFileSync(t,o):i?this.fs.writeFileSync(e,o):this.fs.writeFileSync(t,o)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let o=t;for(const t of i)if(o=Object(o)[t],void 0===o)return s;return o}lodash_set(t,e,s){return Object(t)!==t||(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce(((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{}),t)[e[e.length-1]]=s),t}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),o=s?this.getval(s):"";if(o)try{const t=JSON.parse(o);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,o]=/^@(.*?)\.(.*?)$/.exec(e),r=this.getval(i),a=i?"null"===r?null:r||"{}":"{}";try{const e=JSON.parse(a);this.lodash_set(e,o,t),s=this.setval(JSON.stringify(e),i)}catch(e){const r={};this.lodash_set(r,o,t),s=this.setval(JSON.stringify(r),i)}}else s=this.setval(t,e);return s}getval(t){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.read(t);case"Quantumult X":return $prefs.valueForKey(t);case"Node.js":return this.data=this.loaddata(),this.data[t];default:return this.data&&this.data[t]||null}}setval(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.write(t,e);case"Quantumult X":return $prefs.setValueForKey(t,e);case"Node.js":return this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0;default:return this.data&&this.data[e]||null}}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.cookie&&void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar)))}get(t,e=(()=>{})){switch(t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"],delete t.headers["content-type"],delete t.headers["content-length"]),t.params&&(t.url+="?"+this.queryStr(t.params)),void 0===t.followRedirect||t.followRedirect||((this.isSurge()||this.isLoon())&&(t["auto-redirect"]=!1),this.isQuanX()&&(t.opts?t.opts.redirection=!1:t.opts={redirection:!1})),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,((t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,i)}));break;case"Quantumult X":this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then((t=>{const{statusCode:s,statusCode:i,headers:o,body:r,bodyBytes:a}=t;e(null,{status:s,statusCode:i,headers:o,body:r,bodyBytes:a},r,a)}),(t=>e(t&&t.error||"UndefinedError")));break;case"Node.js":let s=require("iconv-lite");this.initGotEnv(t),this.got(t).on("redirect",((t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}})).then((t=>{const{statusCode:i,statusCode:o,headers:r,rawBody:a}=t,n=s.decode(a,this.encoding);e(null,{status:i,statusCode:o,headers:r,rawBody:a,body:n},n)}),(t=>{const{message:i,response:o}=t;e(i,o,o&&s.decode(o.rawBody,this.encoding))}));break}}post(t,e=(()=>{})){const s=t.method?t.method.toLocaleLowerCase():"post";switch(t.body&&t.headers&&!t.headers["Content-Type"]&&!t.headers["content-type"]&&(t.headers["content-type"]="application/x-www-form-urlencoded"),t.headers&&(delete t.headers["Content-Length"],delete t.headers["content-length"]),void 0===t.followRedirect||t.followRedirect||((this.isSurge()||this.isLoon())&&(t["auto-redirect"]=!1),this.isQuanX()&&(t.opts?t.opts.redirection=!1:t.opts={redirection:!1})),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient[s](t,((t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,i)}));break;case"Quantumult X":t.method=s,this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then((t=>{const{statusCode:s,statusCode:i,headers:o,body:r,bodyBytes:a}=t;e(null,{status:s,statusCode:i,headers:o,body:r,bodyBytes:a},r,a)}),(t=>e(t&&t.error||"UndefinedError")));break;case"Node.js":let i=require("iconv-lite");this.initGotEnv(t);const{url:o,...r}=t;this.got[s](o,r).then((t=>{const{statusCode:s,statusCode:o,headers:r,rawBody:a}=t,n=i.decode(a,this.encoding);e(null,{status:s,statusCode:o,headers:r,rawBody:a,body:n},n)}),(t=>{const{message:s,response:o}=t;e(s,o,o&&i.decode(o.rawBody,this.encoding))}));break}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}queryStr(t){let e="";for(const s in t){let i=t[s];null!=i&&""!==i&&("object"==typeof i&&(i=JSON.stringify(i)),e+=`${s}=${i}&`)}return e=e.substring(0,e.length-1),e}msg(e=t,s="",i="",o={}){const r=t=>{const{$open:e,$copy:s,$media:i,$mediaMime:o}=t;switch(typeof t){case void 0:return t;case"string":switch(this.getEnv()){case"Surge":case"Stash":default:return{url:t};case"Loon":case"Shadowrocket":return t;case"Quantumult X":return{"open-url":t};case"Node.js":return}case"object":switch(this.getEnv()){case"Surge":case"Stash":case"Shadowrocket":default:{const r={};let a=t.openUrl||t.url||t["open-url"]||e;a&&Object.assign(r,{action:"open-url",url:a});let n=t["update-pasteboard"]||t.updatePasteboard||s;if(n&&Object.assign(r,{action:"clipboard",text:n}),i){let t,e,s;if(i.startsWith("http"))t=i;else if(i.startsWith("data:")){const[t]=i.split(";"),[,o]=i.split(",");e=o,s=t.replace("data:","")}else{e=i,s=(t=>{const e={JVBERi0:"application/pdf",R0lGODdh:"image/gif",R0lGODlh:"image/gif",iVBORw0KGgo:"image/png","/9j/":"image/jpg"};for(var s in e)if(0===t.indexOf(s))return e[s];return null})(i)}Object.assign(r,{"media-url":t,"media-base64":e,"media-base64-mime":o??s})}return Object.assign(r,{"auto-dismiss":t["auto-dismiss"],sound:t.sound}),r}case"Loon":{const s={};let o=t.openUrl||t.url||t["open-url"]||e;o&&Object.assign(s,{openUrl:o});let r=t.mediaUrl||t["media-url"];return i?.startsWith("http")&&(r=i),r&&Object.assign(s,{mediaUrl:r}),console.log(JSON.stringify(s)),s}case"Quantumult X":{const o={};let r=t["open-url"]||t.url||t.openUrl||e;r&&Object.assign(o,{"open-url":r});let a=t["media-url"]||t.mediaUrl;i?.startsWith("http")&&(a=i),a&&Object.assign(o,{"media-url":a});let n=t["update-pasteboard"]||t.updatePasteboard||s;return n&&Object.assign(o,{"update-pasteboard":n}),console.log(JSON.stringify(o)),o}case"Node.js":return}default:return}};if(!this.isMute)switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:$notification.post(e,s,i,r(o));break;case"Quantumult X":$notify(e,s,i,r(o));break;case"Node.js":break}if(!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}debug(...t){this.logLevels[this.logLevel]<=this.logLevels.debug&&(t.length>0&&(this.logs=[...this.logs,...t]),console.log(`${this.logLevelPrefixs.debug}${t.map((t=>t??String(t))).join(this.logSeparator)}`))}info(...t){this.logLevels[this.logLevel]<=this.logLevels.info&&(t.length>0&&(this.logs=[...this.logs,...t]),console.log(`${this.logLevelPrefixs.info}${t.map((t=>t??String(t))).join(this.logSeparator)}`))}warn(...t){this.logLevels[this.logLevel]<=this.logLevels.warn&&(t.length>0&&(this.logs=[...this.logs,...t]),console.log(`${this.logLevelPrefixs.warn}${t.map((t=>t??String(t))).join(this.logSeparator)}`))}error(...t){this.logLevels[this.logLevel]<=this.logLevels.error&&(t.length>0&&(this.logs=[...this.logs,...t]),console.log(`${this.logLevelPrefixs.error}${t.map((t=>t??String(t))).join(this.logSeparator)}`))}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.map((t=>t??String(t))).join(this.logSeparator))}logErr(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:this.log("",`❗️${this.name}, 错误!`,e,t);break;case"Node.js":this.log("",`❗️${this.name}, 错误!`,e,void 0!==t.message?t.message:t,t.stack);break}}wait(t){return new Promise((e=>setTimeout(e,t)))}done(t={}){const e=((new Date).getTime()-this.startTime)/1e3;switch(this.log("",`🔔${this.name}, 结束! 🕛 ${e} 秒`),this.log(),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:$done(t);break;case"Node.js":process.exit(1)}}}(t,e)}
